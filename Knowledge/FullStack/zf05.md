[TOC]

----------

## 课时104：什么是事件

- 什么是事件?
  1. 行为本身：浏览器天生就赋予其的行为，例如`onclick`, `onmouseover(onmouseenter)`, `onmouseout(onmouseleave)`, `onmousemove`, `onmousedown`, `onmouseup`, `onmousewheel`(鼠标滚轮滚动行为), `onscroll`
  2. 事件绑定：给元素的某一个行为绑定方法
 

```javascript
var oDiv = document.getElementById("#box");

// onclick这个行为定义在当前元素的私有属性上
// 我们称之为DOM 0级事件绑定
oDiv.onclick = function handler () { ... };

// addEventListener这个属性则定义在"EventTarget"这个接口上，放在该元素的原型链上
// 我们称之为DOM 2级事件绑定
oDiv.addEventListener("click", handler);
```

- 关于为什么没有DOM 1级事件： 很久以前，DOM刚开发时，版本为0级，后来又进行了一次升级升级到1级，但这次升级并没有更新DOM事件，后来再次升级到DOM 2级时，DOM事件得到了更新就有了DOM2级事件绑定。


----------

## 课时105：事件对象及兼容处理

```javascript
// 表示我们把匿名函数定义的部分当做一个值赋值给了oDiv的点击行为(函数表达式)
oDiv.onclick = function (mouseEvent) { ... }
// 当我们触发#div的点击行为时，会执行对应绑定上的方法
// ★重要：不仅仅把绑定的方法执行了，而且浏览器还默认的给这个方法传递了一个参数 --> MouseEvent：鼠标事件对象
//   1. 它是一个对象数据类型值，里面包含了很多属性名和属性值，这些都是用来记录当前鼠标的相关信息
//   2. MouseEvent的原型链：MouseEvent -> UIEvent -> Event -> Object
//   3. MouseEvent记录的是页面中唯一一个鼠标每次触发时的相关信息，和到底是在哪个元素上触发的没关系
```

**关于事件对象MouseEvent的兼容问题**
```javascript
oDiv.onclick = function (e) {
  // 在非标准浏览器(IE6~8)中，我们需要去window.event上获取。
  e = e || window.event;
  e.target = e.target || e.srcElement
  e.pageX = e.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft)
  e.pageY = e.clientY + (document.documentElement.scrollTop || document.body.scrollTop)
  e.preventDefault ? e.preventDefault() : e.returnValue=false
  // 阻止默认行为可以直接用return false！
  // 更可以在html事件代码中直接加"javascript:;"或者"javascript: void 0;"或者"javascript: viod 1;"
  
  // e.stopPropagation 阻止事件的冒泡传播，在IE6~8中不兼容，使用e.cancelBubble=true兼容处理
  e.stopPropagation ? e.stopPropagation() : e.cancelBubble=true
}
  // e.type：当前鼠标触发的行为类型 “click” ...
  // e.clientX/e.clientY：当前鼠标触发点所距离当前浏览器屏幕(viewport,视口)左上角的x轴和y轴的坐标值
  // e.target：事件源，当前鼠标触发的是哪个元素
  // e.pageX/e.pageY：当前鼠标触发点所距离body左上角的x/y轴的坐标，但问题是在IE6~8下不兼容，处理办法为使用clientX/Y+滚动条卷曲的高度或宽度即可
  // e.preventDefault: 阻止浏览器的默认行为，但问题是IE6~8中不兼容，使用e.returnValue=false解决兼容问题
  
  // KeyboardEvent 键盘事件对象
  // e.keyCode：当前键盘上每一个键对应的值
  // 空格键(space)->32 , 退回键(Backspace)->8 , 回车键(Enter)->13 , 删除键(Del)->46
```

----------

## 课时106：事件的传播机制

- 事件的默认传播机制：
  - 捕获阶段：从外向内依次查找元素
  - 目标阶段：当前事件源本身的操作
  - 冒泡阶段：从内到外依次触发相关的行为
  
- 使用DOM-0级事件给元素的某一个行为绑定的方法，都是在行为触发后的冒泡阶段才去执行方法

- 因为由捕获阶段或冒泡阶段或目标阶段触发是的事件对象全都是相等的


----------

## 课时107：案例之鼠标跟随(jQuery版)


----------

## 课时108：案例之鼠标跟随(原生js版)

```javascript

```

- `mouseenter`和`mouseover` 、`mouseleave`和`mouseout`的本质区别：`mouseenter`和`mouseleave`这两个事件都是阻止事件冒泡，而`mouseover`和`mouseout`则不阻止事件冒泡。阻止行为冒泡传播的好处在于当触发子元素的某个行为时，导致父元素的该行为也被触发。

----------

## 课时109：鼠标跟随 深入理解事件的传播机制

```javascript
<script type="text/javascript">
  var box = document.getElementById("box"),
    inner = document.getElementById("inner");

  //    box.onmouseover = function () {
  //      inner.style.display = "block";
  //    };
  //
  //    box.onmouseout = function () {
  //      inner.style.display = "none";
  //    };

  // 升级绑定行为，取消事件的冒泡传递！
  box.onmouseenter = function () {
    inner.style.display = "block";
  }

  box.onmouseleave = function () {
    inner.style.display = "none";
  }
</script>
```
