![9787121177408](../../../static/img/9787121177408.jpg)

# 《JavaScript语言精粹》

## 第一章：精华

- JAvaScript优化的想法包括函数、弱类型、动态对象和富有表现力的对象字面量表示法。而其糟糕的想法包括基于全局变量的编程模型。

----------

## 第二章：语法

### 空白

```javascript
/*
    var rm_a = /a*/.macth(s);
*/
```

> 在JavaScript里，最好别用`/* */`包裹注释，因为如果注释里出现正则表达式刚好闭合了注释就完蛋了~

### 数字

- JavaScript只有一个数字类型。它在内部被表示为64位的浮点数，和Java的double数字类型一样。因它没有分离出整数类型，所以1和1.00的值相同。这提供了很大的方便，因为它是完全避免了短整型的溢出问题，你只要知道它是一种数字。
- NaN是一个数值，它表示一个不能产生正常结果的运算结果。NaN不等于任何值，包括它自己，判断用isNaN(number1)检测NaN。
- Infinity表示所有大于1.79769313486231570e+308的值。

### 字符串

- JavaScript再被创建时，Unicode时一个16位的字符集，所以JavaScript中的所有字符都是16位的。
- JavaScript中没有字符类型，要表示只需创建仅包含一个字符的字符串即可。
- 字符串是不可变的。一旦字符串被创建，就永远无法改变它。但你可以很容易`+`运算符连接其他字符串来创建一个新字符串。两个包含着完全相同字符且字符顺序也相同的字符串被认为是相同字符串。证明如下：

```javascript
'c' + 'a' + 't' === 'cat'   // -> true
```

### 语句

- 代码块是包在一对花括号中的一组语句。不想其他许多语言，JavaScript中的代码块不会创建新作用域，因此变量应该被定义在函数的头部，而不是代码块中。(联想到了立即执行函数IIFE)
- 以下列出的值都背当做 *假* `false`：
  - `flase`
  - `null`
  - `undefined`
  - 空字符串`' '`
  - 数字 `0`
  - 数值 `NaN`
- 除了以上的其他所有值都被当做 *真* `true`，包括`true`、字符串`false`，以及所有对象。
- 在使用`for ... in`枚举一个对象的私有(自身)属性时，应加一道筛选

```javascript
for (myvar in obj) {
    if (obj.hasOwnProperty(myvar)) {
        ...
    }
}
```

- JavaScript中不允许在`return`和`break`关键字和标签之间换行。
- 一个expression语句可以给一个或者多个变量或者成员赋值，或调用一个方法，或从对象中删除一个属性。

### 表达式

- `typeof`运算符产生的值有'number'、'string'、'boolean'、'undefined'、'function'和'object'六种。如果运算数是一个数组或者null，那么结果是'object'，这其实是不对的。

> 关于null为什么是typeof结果是对象原因，因为当时作者设计时，寄存器最高的那三位000表示类型，而000正好表示空，就演变为空对象null，所以null就是对象类型。

- `/`除运算符可能会产生一个非整数结果，即使两个运算数都是整数。
- 如果第1个运算数的值为假，那么逻辑且运算符`&&`产生第1个运算数的值，否则产生第2个运算数的值。
- 如果第1个运算数的值为真，那么逻辑或运算符`||`产生第1个运算数的值，否则产生第2个运算数的值。

----------

## 第三章：对象

- 对象是属性的容器，其中每个属性都有用名字和值。属性值可以是除了`undefined`以外的任何值。
- JavaScript中的对象都是无类型(class-free)的。他对新的属性名字和属性值都没有限制。对象适合用于汇集和管理数据，对象也可以包含其他对象，所以它们可以容易地表示成梳妆或者图形结构。

### 索引

- JavaScript的标识符中包含连接符(-)是不合法的，但允许包含下划线(_)。

### 引用

```javascript
// a,b,c每个都引用一个不同的空对象
var a = {}, b = {}, c = {};  
// a,b,c都引用同一个的空对象
a = b = c = {};
```

### 原型

- 原型连接只有在检索值时才被用到。如果查到对象的某个属性，先在对象自有属性中查找，若没有就往上一个原型的属性中查找，以此类推，最后找到终点Object.prototype。如果想要的属性完全不存在于原型链中，那么结果就是`undefined`值。这个过程称为*委托*。

### 删除

`delete`运算符可以用来删除对象的属性。删除对象的属性可能会让来自原型链中的属性透现出来：

```javascript
another_stooge.nickname;  // 'jerry' 

// 删除 another_stooge 的 nickname属性，从来暴露出原型上的nickname属性
delete another_stooge.nickname;

another_stooge.nickname;  // 'szy0syz' 
```

### 减少全局变量污染

- 只要把全局性的资源都纳入一个命名空间下，你的程序与其他应用程序、组件或类库之间发生冲突的可能性就会显著降低。

----------

## 第四章：函数

 > 函数包含一组语句，它们是JavaScript的基础模块单元，用于代码复用、信息隐藏和组合调用。函数用于指定对象的行为。一般来说，所谓编程，就是将一组需求分解成一组函数与数据结构的技能。

### 函数对象

- JavaScript中函数就是对象。对象是“名/值”对的集合并 拥有一个连到原型对象的隐藏连接。对象字面量产生的对象连接到`Object.prototype`。函数对象连接到`Function.prototype`(该原型对象本身也连接到`Object.prototype`)。每个函数在创建时会附加两个隐藏属性：函数的上下文和实现函数行为的代码。

> 来来来，哥来解读下这段话，说说心得，要不然真成抄书的了。

这段话解释了一个原理“函数的三种角色”：函数、对象和类。以后哪个再说JS中最大就是`Object`我就跟谁急，原理图在下面。最后那句又引出了函数的编译机制，如果定义一个函数，在当前作用域预解释时会立马定义并声明，然后把函数体代码转成字符串存成堆内存地址返回到当前作用，最后执行函数也就是将堆内存生成一个新作用域。

![img1][1]

----------


## 总结

> 内容紧凑，知识点密集，排版仅仅有100页，堪称完美！


  [1]: http://ofx24fene.bkt.clouddn.com//img/book/prototype_chain_final.svg
  